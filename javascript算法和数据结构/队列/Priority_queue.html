
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
  <script type="text/javascript">
    // 创建优先级队列和队列的方法
    function PriorityQueue() { 

      var items = []; 

    function QueueElement (element, priority){                        // {1}    多一个优先级的参数     
    this.element = element;         
    this.priority = priority;    
  } 

  this.enqueue = function(element, priority){         
    var queueElement = new QueueElement(element, priority); 
    if (this.isEmpty()){            
         items.push(queueElement);                                    // {2}    队列如果为空，添加元素    
       } else {            
        for (var i=0; i<items.length; i++){                
          if (queueElement.priority <  items[i].priority){                 
              items.splice(i,0,queueElement);                         // {3}    队列不为空，通过比较优先级排序 ，splice插入在i的位置，内容是queueElement               
                added = true;                   
                  break;                                              // {4}    终止队列循环
                  }             }             
                  if (!added){                                        // {5}    添加元素的priority值大于任何已有的元素，把它添加到队列的末尾就行了            
                    items.push(queueElement);                       
              }         
          }     
      };

   this.print = function(){                                           //打印出队列元素
      console.log(items);    
      }; 

   this.isEmpty = function(){                                         //如果队列中不包含任何元素，返回true，否则返回false。 
            return items.length == 0;  
      };    
  } 

              //创建优先级队列实例
              var priorityQueue = new PriorityQueue(); 
              priorityQueue.enqueue("John", 2); 
              priorityQueue.enqueue("Jack", 1); 
              priorityQueue.enqueue("Camila", 1); 
              priorityQueue.print();                                

              /*
                0:QueueElement {element: "Jack", priority: 1}
                1:QueueElement {element: "Camila", priority: 1}
                2:QueueElement {element: "John", priority: 2}
              */

  </script>
</body>
</html>

